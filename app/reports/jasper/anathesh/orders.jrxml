<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.16.0.final using JasperReports Library version 6.16.0-48579d909b7943b64690c65c71e07e0b80981928  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="orders" pageWidth="555" pageHeight="802" columnWidth="555" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="86f6838b-3768-4336-b07a-ef8032ed8fcf">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="internova_db"/>
	<parameter name="order_loading_id" class="java.lang.String"/>
	<queryString language="SQL">
		<![CDATA[select 
ow.position,
		cs.brand_name,
		ord.comments,
		ord.gross_weight,
		ord.net_weight,
		ord.truck_temprature,
		os.position ,
		os.order_id ,
		os.truck_loading_code as 'os_truck_loading_code' ,
		ow.truck_loading_code as 'ow_truck_loading_code' ,
		fact_sched.id as 'fact_sched_id',
		fact_sched.brand_name as 'fact_sched_brand_name',
		fact_sched.address as 'fact_sched_address',
		concat( fact_sched.lattitude,",",fact_sched.longtitude)   as 'fact_sched_coordinates',
		os.appointment_day_load as 'fact_sched_appointment_day_load',
		
		fact_wayp.id as 'fact_wayp_id',
		fact_wayp.brand_name as 'fact_wayp_brand_name',
		fact_wayp.address as 'fact_wayp_address',
		concat( fact_wayp.lattitude,",",fact_wayp.longtitude)   as 'fact_wayp_coordinates',
		ow.appointment_day_load as 'fact_wayp_appointment_day_load'
		
		
		from order_schedules os
		join orders ord on (ord.id = os.order_id)
		join customers_suppliers cs on (cs.id=ord.customer_id)
		left join order_waypoints ow on (os.id=ow.order_schedule_id  )
		left join factories fact_sched on (fact_sched.id=os.factory_id)
		left join factories fact_wayp on (fact_wayp.id=ow.factory_id)
		where os.order_id in 
		(
		
		select id
		from orders
		where id in
		(
		select order_id 
		from orders_loading_orders_selections 
		where order_loading_id=$P{order_loading_id}
		)
		
		)
		  and ow.position= (select max(ow2.position) from  order_waypoints ow2 where ow2.order_id=os.order_id )
        group by order_id
		order by os.position asc,ow.position desc]]>
	</queryString>
	<field name="position" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="position"/>
		<property name="com.jaspersoft.studio.field.label" value="position"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="order_waypoints"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="brand_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="brand_name"/>
		<property name="com.jaspersoft.studio.field.label" value="brand_name"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="customers_suppliers"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="comments" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="comments"/>
		<property name="com.jaspersoft.studio.field.label" value="comments"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="orders"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="gross_weight" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.name" value="gross_weight"/>
		<property name="com.jaspersoft.studio.field.label" value="gross_weight"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="orders"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="net_weight" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.name" value="net_weight"/>
		<property name="com.jaspersoft.studio.field.label" value="net_weight"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="orders"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="truck_temprature" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="truck_temprature"/>
		<property name="com.jaspersoft.studio.field.label" value="truck_temprature"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="orders"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="COLUMN_7" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="position"/>
		<property name="com.jaspersoft.studio.field.label" value="position"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="order_schedules"/>
	</field>
	<field name="order_id" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="order_id"/>
		<property name="com.jaspersoft.studio.field.label" value="order_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="order_schedules"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="os_truck_loading_code" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="os_truck_loading_code"/>
		<property name="com.jaspersoft.studio.field.label" value="os_truck_loading_code"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="order_schedules"/>
	</field>
	<field name="ow_truck_loading_code" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="ow_truck_loading_code"/>
		<property name="com.jaspersoft.studio.field.label" value="ow_truck_loading_code"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="order_waypoints"/>
	</field>
	<field name="fact_sched_id" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="fact_sched_id"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_sched_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="factories"/>
	</field>
	<field name="fact_sched_brand_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="fact_sched_brand_name"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_sched_brand_name"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="factories"/>
	</field>
	<field name="fact_sched_address" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="fact_sched_address"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_sched_address"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="factories"/>
	</field>
	<field name="fact_sched_coordinates" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="fact_sched_coordinates"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_sched_coordinates"/>
	</field>
	<field name="fact_sched_appointment_day_load" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="fact_sched_appointment_day_load"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_sched_appointment_day_load"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="order_schedules"/>
	</field>
	<field name="fact_wayp_id" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="fact_wayp_id"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_wayp_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="factories"/>
	</field>
	<field name="fact_wayp_brand_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="fact_wayp_brand_name"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_wayp_brand_name"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="factories"/>
	</field>
	<field name="fact_wayp_address" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="fact_wayp_address"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_wayp_address"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="factories"/>
	</field>
	<field name="fact_wayp_coordinates" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="fact_wayp_coordinates"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_wayp_coordinates"/>
	</field>
	<field name="fact_wayp_appointment_day_load" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="fact_wayp_appointment_day_load"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_wayp_appointment_day_load"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="order_waypoints"/>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="150" splitType="Stretch">
			<frame>
				<reportElement stretchType="ElementGroupHeight" x="0" y="0" width="534" height="150" uuid="ba4ebebc-d76f-4f73-b640-31d9091ed099"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="0" y="31" width="270" height="14" isPrintWhenDetailOverflows="true" uuid="d1110772-1b9f-40b1-ae10-5b06bfc8193d">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Επωνυμία: "+($F{fact_sched_id}!=null?$F{fact_sched_brand_name}:"-")]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="0" y="60" width="270" height="14" isPrintWhenDetailOverflows="true" uuid="6f925040-09d2-4944-90e0-c8c552e19427">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Ημερομηνία Φόρτωσης: "+
($F{fact_sched_appointment_day_load}!=null?new SimpleDateFormat("dd/MM/yyyy").format($F{fact_sched_appointment_day_load}):"-")]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="0" y="74" width="270" height="14" isPrintWhenDetailOverflows="true" uuid="78f2239a-b3fe-4f5a-9e4d-2a60a71ee3d3">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Κωδικός Φόρτωσης: "+
(
	($F{os_truck_loading_code}!=null && $F{os_truck_loading_code}!="null")?$F{os_truck_loading_code}:"-"
)]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="280" y="31" width="254" height="14" isPrintWhenDetailOverflows="true" uuid="c16ddfa7-7e50-4c9c-8a6c-a9a071e810e9">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Επωνυμία: "+($F{fact_wayp_id}!=null?$F{fact_wayp_brand_name}:"-")]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="280" y="59" width="254" height="14" isPrintWhenDetailOverflows="true" uuid="695fe666-daa4-49c2-a572-587766251149">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Ημερομηνία εκφόρτωσης: "+
($F{fact_wayp_appointment_day_load}!=null?new SimpleDateFormat("dd/MM/yyyy").format($F{fact_wayp_appointment_day_load}):"-")]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="280" y="73" width="254" height="16" isPrintWhenDetailOverflows="true" uuid="fb4f3a6e-4197-4f95-ad15-175d9ff1008e">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Κωδικός εκφόρτωσης: "+
(
	($F{ow_truck_loading_code}!=null && $F{ow_truck_loading_code}!="null")?$F{ow_truck_loading_code}:"-"
)]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ContainerBottom" x="0" y="45" width="270" height="15" uuid="6ec60ec7-214d-4004-945c-e82fba8c4c2d">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Συντ/μένες: "+($F{fact_sched_coordinates}!=null?$F{fact_sched_coordinates}:"-")]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="280" y="45" width="254" height="14" isPrintWhenDetailOverflows="true" uuid="83b9f02f-7082-4c50-86f0-11fb5d6ad9b7">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Συντ/μένες:: "+$F{fact_wayp_coordinates}]]></textFieldExpression>
				</textField>
				<textField textAdjust="ScaleFont">
					<reportElement stretchType="ElementGroupHeight" x="0" y="16" width="270" height="15" isPrintWhenDetailOverflows="true" uuid="720e1a4c-533a-44dc-8906-e99d73e3c87a">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Διεύθυνση Φόρτωσης: "+($F{fact_sched_id}!=null?$F{fact_sched_address}:"-")]]></textFieldExpression>
				</textField>
				<textField textAdjust="ScaleFont">
					<reportElement stretchType="ElementGroupHeight" x="280" y="17" width="254" height="14" isPrintWhenDetailOverflows="true" uuid="7daf604b-45b2-47d9-b936-d1884be39821">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Διεύθυνση Εκφόρτωσης: "+($F{fact_wayp_id}!=null?$F{fact_wayp_address}:"-")]]></textFieldExpression>
				</textField>
				<textField textAdjust="ScaleFont">
					<reportElement stretchType="ElementGroupHeight" x="0" y="116" width="270" height="14" isPrintWhenDetailOverflows="true" uuid="bbd9e3d0-31ee-4d04-a5cc-b76781d7c872">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Όνομα Πελάτη: "+
(
	($F{brand_name}!=null && $F{brand_name}!="null")?$F{brand_name}:"-"
)]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="0" y="130" width="270" height="20" isPrintWhenDetailOverflows="true" uuid="514f66b7-b03a-4ede-8dd9-df5211309687">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Σχόλια: "+
(
	($F{comments}!=null && $F{comments}!="null")?$F{comments}:"-"
)]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="0" y="88" width="270" height="14" isPrintWhenDetailOverflows="true" uuid="a10abdb4-58a8-459b-ab2e-4d8a3cd73a19">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Θερμοκρασία: "+ 
(
	($F{truck_temprature}!=null && $F{truck_temprature}!="null")?$F{truck_temprature}:"-"
)]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="0" y="102" width="270" height="14" isPrintWhenDetailOverflows="true" uuid="6d79815d-4a13-4ec3-878b-6cc49e7a6668">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Βάρος: "+ $F{gross_weight}]]></textFieldExpression>
				</textField>
				<textField textAdjust="ScaleFont">
					<reportElement stretchType="ElementGroupHeight" x="0" y="1" width="270" height="15" isPrintWhenDetailOverflows="true" uuid="5bd16635-34e2-4707-8b80-8269a824a48a">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["#"+$F{order_id}]]></textFieldExpression>
				</textField>
			</frame>
		</band>
	</detail>
</jasperReport>
