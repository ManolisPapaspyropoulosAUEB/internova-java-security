<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.16.0.final using JasperReports Library version 6.16.0-48579d909b7943b64690c65c71e07e0b80981928  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="main" pageWidth="555" pageHeight="802" columnWidth="555" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="f237a289-524a-478a-a691-7d4013697fb7">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="internova_db"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="469"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="522"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String">
		<defaultValueExpression><![CDATA[".\\"]]></defaultValueExpression>
	</parameter>
	<parameter name="order_loading_id" class="java.lang.String"/>
	<parameter name="user" class="java.lang.String"/>
	<queryString language="SQL">
		<![CDATA[select 
ow.position,
		cs.brand_name,
		ord.comments,
		ord.gross_weight,
		ord.net_weight,
		ord.truck_temprature,
		os.position ,
		os.order_id ,
		os.truck_loading_code as 'os_truck_loading_code' ,
		ow.truck_loading_code as 'ow_truck_loading_code' ,
		fact_sched.id as 'fact_sched_id',
		fact_sched.brand_name as 'fact_sched_brand_name',
		fact_sched.address as 'fact_sched_address',
		concat( fact_sched.lattitude,",",fact_sched.longtitude)   as 'fact_sched_coordinates',
		os.appointment_day_load as 'fact_sched_appointment_day_load',
		
		fact_wayp.id as 'fact_wayp_id',
		fact_wayp.brand_name as 'fact_wayp_brand_name',
		fact_wayp.address as 'fact_wayp_address',
		concat( fact_wayp.lattitude,",",fact_wayp.longtitude)   as 'fact_wayp_coordinates',
		ow.appointment_day_load as 'fact_wayp_appointment_day_load'
		
		
		from order_schedules os
		join orders ord on (ord.id = os.order_id)
		join customers_suppliers cs on (cs.id=ord.customer_id)
		left join order_waypoints ow on (os.id=ow.order_schedule_id  )
		left join factories fact_sched on (fact_sched.id=os.factory_id)
		left join factories fact_wayp on (fact_wayp.id=ow.factory_id)
		where os.order_id in 
		(
		
		select id
		from orders
		where id in
		(
		select order_id 
		from orders_loading_orders_selections 
		where order_loading_id=$P{order_loading_id}
		)
		
		)
		  and ow.position= (select max(ow2.position) from  order_waypoints ow2 where ow2.order_id=os.order_id )
        group by order_id
		order by os.position asc,ow.position desc]]>
	</queryString>
	<field name="brand_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="brand_name"/>
		<property name="com.jaspersoft.studio.field.label" value="brand_name"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="customers_suppliers"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="comments" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="comments"/>
		<property name="com.jaspersoft.studio.field.label" value="comments"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="orders"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="gross_weight" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.name" value="gross_weight"/>
		<property name="com.jaspersoft.studio.field.label" value="gross_weight"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="orders"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="net_weight" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.name" value="net_weight"/>
		<property name="com.jaspersoft.studio.field.label" value="net_weight"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="orders"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="truck_temprature" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="truck_temprature"/>
		<property name="com.jaspersoft.studio.field.label" value="truck_temprature"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="orders"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="position" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="position"/>
		<property name="com.jaspersoft.studio.field.label" value="position"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="order_schedules"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="order_id" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="order_id"/>
		<property name="com.jaspersoft.studio.field.label" value="order_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="order_schedules"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="os_truck_loading_code" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="os_truck_loading_code"/>
		<property name="com.jaspersoft.studio.field.label" value="os_truck_loading_code"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="order_schedules"/>
	</field>
	<field name="ow_truck_loading_code" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="ow_truck_loading_code"/>
		<property name="com.jaspersoft.studio.field.label" value="ow_truck_loading_code"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="order_waypoints"/>
	</field>
	<field name="fact_sched_id" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="fact_sched_id"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_sched_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="factories"/>
	</field>
	<field name="fact_sched_brand_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="fact_sched_brand_name"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_sched_brand_name"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="factories"/>
	</field>
	<field name="fact_sched_address" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="fact_sched_address"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_sched_address"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="factories"/>
	</field>
	<field name="fact_sched_coordinates" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="fact_sched_coordinates"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_sched_coordinates"/>
	</field>
	<field name="fact_sched_appointment_day_load" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="fact_sched_appointment_day_load"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_sched_appointment_day_load"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="order_schedules"/>
	</field>
	<field name="fact_wayp_id" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="fact_wayp_id"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_wayp_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="factories"/>
	</field>
	<field name="fact_wayp_brand_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="fact_wayp_brand_name"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_wayp_brand_name"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="factories"/>
	</field>
	<field name="fact_wayp_address" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="fact_wayp_address"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_wayp_address"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="factories"/>
	</field>
	<field name="fact_wayp_coordinates" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="fact_wayp_coordinates"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_wayp_coordinates"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="factories"/>
	</field>
	<field name="fact_wayp_appointment_day_load" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="fact_wayp_appointment_day_load"/>
		<property name="com.jaspersoft.studio.field.label" value="fact_wayp_appointment_day_load"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="order_waypoints"/>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="110">
			<frame>
				<reportElement x="20" y="0" width="535" height="110" uuid="56ab27e9-2a43-4a51-b1f0-e241e801c712"/>
				<image>
					<reportElement x="0" y="10" width="524" height="70" uuid="837d74de-dfef-467c-beff-6c7494504d35"/>
					<imageExpression><![CDATA[$P{SUBREPORT_DIR}+"novaLogo.png"]]></imageExpression>
				</image>
				<subreport>
					<reportElement x="-1" y="80" width="525" height="30" uuid="576ef8a9-3113-4808-ba3b-8637a6bda10d"/>
					<subreportParameter name="order_loading_id">
						<subreportParameterExpression><![CDATA[$P{order_loading_id}]]></subreportParameterExpression>
					</subreportParameter>
					<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					<subreportExpression><![CDATA[$P{SUBREPORT_DIR}+"title.jasper"]]></subreportExpression>
				</subreport>
			</frame>
		</band>
	</pageHeader>
	<detail>
		<band height="160" splitType="Stretch">
			<frame>
				<reportElement stretchType="ElementGroupHeight" x="10" y="0" width="534" height="160" uuid="67462bc7-e000-462a-820c-6411256484a1"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="0" y="31" width="270" height="14" isPrintWhenDetailOverflows="true" uuid="de9a3733-f02b-4d4b-a1ed-1a7e2ae9b19f">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Επωνυμία: "+($F{fact_sched_id}!=null?$F{fact_sched_brand_name}:"-")]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="0" y="60" width="270" height="14" isPrintWhenDetailOverflows="true" uuid="dc6ca164-9195-4fbf-b2db-b9e8b08752d1">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Ημερομηνία Φόρτωσης: "+
($F{fact_sched_appointment_day_load}!=null?new SimpleDateFormat("dd/MM/yyyy").format($F{fact_sched_appointment_day_load}):"-")]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="0" y="74" width="270" height="14" isPrintWhenDetailOverflows="true" uuid="bcb86df9-ec25-4f1c-9f10-b6bc74fe62a7">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Κωδικός Φόρτωσης: "+
(
	($F{os_truck_loading_code}!=null && $F{os_truck_loading_code}!="null")?$F{os_truck_loading_code}:"-"
)]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="280" y="31" width="254" height="14" isPrintWhenDetailOverflows="true" uuid="77ea25f2-9bed-44fe-88bb-b9290990d079">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Επωνυμία: "+($F{fact_wayp_id}!=null?$F{fact_wayp_brand_name}:"-")]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="280" y="59" width="254" height="14" isPrintWhenDetailOverflows="true" uuid="3055e2c7-261d-4c94-a939-d5a826ad9ffa">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Ημερομηνία εκφόρτωσης: "+
($F{fact_wayp_appointment_day_load}!=null?new SimpleDateFormat("dd/MM/yyyy").format($F{fact_wayp_appointment_day_load}):"-")]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="280" y="73" width="254" height="16" isPrintWhenDetailOverflows="true" uuid="0e1d566e-f164-4498-abbf-298b26f71940">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Κωδικός εκφόρτωσης: "+
(
	($F{ow_truck_loading_code}!=null && $F{ow_truck_loading_code}!="null")?$F{ow_truck_loading_code}:"-"
)]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ContainerBottom" x="0" y="45" width="270" height="15" uuid="0f1c0c7c-c134-45ba-90fb-6ee136f50cd9">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Συντ/μένες: "+($F{fact_sched_coordinates}!=null?$F{fact_sched_coordinates}:"-")]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="280" y="45" width="254" height="14" isPrintWhenDetailOverflows="true" uuid="296f0d53-cfd1-42c1-baab-dabd3fd6a509">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Συντ/μένες:: "+$F{fact_wayp_coordinates}]]></textFieldExpression>
				</textField>
				<textField textAdjust="ScaleFont">
					<reportElement stretchType="ElementGroupHeight" x="0" y="16" width="270" height="15" isPrintWhenDetailOverflows="true" uuid="006f7d07-1a47-46c7-a854-58f0a61f4658">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Διεύθυνση Φόρτωσης: "+($F{fact_sched_id}!=null?$F{fact_sched_address}:"-")]]></textFieldExpression>
				</textField>
				<textField textAdjust="ScaleFont">
					<reportElement stretchType="ElementGroupHeight" x="280" y="17" width="254" height="14" isPrintWhenDetailOverflows="true" uuid="8d049620-833d-404c-8add-deedb3e80417">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Διεύθυνση Εκφόρτωσης: "+($F{fact_wayp_id}!=null?$F{fact_wayp_address}:"-")]]></textFieldExpression>
				</textField>
				<textField textAdjust="ScaleFont">
					<reportElement stretchType="ElementGroupHeight" x="0" y="116" width="270" height="14" isPrintWhenDetailOverflows="true" uuid="a349c506-c1e9-46c5-b542-9380bb86aee9">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Όνομα Πελάτη: "+
(
	($F{brand_name}!=null && $F{brand_name}!="null")?$F{brand_name}:"-"
)]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="0" y="130" width="270" height="24" isPrintWhenDetailOverflows="true" uuid="bc6cc280-c781-49f2-a9e1-ce115d292eb0">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Σχόλια: "+
(
	($F{comments}!=null && $F{comments}!="null")?$F{comments}:"-"
)]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="0" y="88" width="270" height="14" isPrintWhenDetailOverflows="true" uuid="0fec03bd-56da-43a5-8e7d-9fcadcf0d4d8">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Θερμοκρασία: "+ 
(
	($F{truck_temprature}!=null && $F{truck_temprature}!="null")?$F{truck_temprature}:"-"
)]]></textFieldExpression>
				</textField>
				<textField textAdjust="StretchHeight">
					<reportElement stretchType="ElementGroupHeight" x="0" y="102" width="270" height="14" isPrintWhenDetailOverflows="true" uuid="f3f4344f-d3b3-4120-9df7-15c732174784">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["Βάρος: "+ $F{gross_weight}]]></textFieldExpression>
				</textField>
				<textField textAdjust="ScaleFont">
					<reportElement stretchType="ElementGroupHeight" x="0" y="1" width="270" height="15" isPrintWhenDetailOverflows="true" uuid="29ecfe34-7618-405d-9097-383fc2c5a01b">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement>
						<font fontName="ArialPdf"/>
					</textElement>
					<textFieldExpression><![CDATA["#"+$F{order_id}]]></textFieldExpression>
				</textField>
			</frame>
		</band>
	</detail>
	<summary>
		<band height="250">
			<subreport>
				<reportElement x="10" y="0" width="534" height="200" uuid="cb5c4304-ccd3-46ac-aa47-6678c747b26d"/>
				<subreportParameter name="order_loading_id">
					<subreportParameterExpression><![CDATA[$P{order_loading_id}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR}+"naulo.jasper"]]></subreportExpression>
			</subreport>
			<break>
				<reportElement x="0" y="220" width="94" height="1" uuid="16fca06a-54bd-462e-876b-c99a3da5e097"/>
			</break>
			<subreport>
				<reportElement x="0" y="220" width="554" height="30" uuid="c81ed0d9-b0f7-4808-9af8-9117bebf80a6"/>
				<subreportParameter name="user">
					<subreportParameterExpression><![CDATA[$P{user}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR}+"footer.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</summary>
</jasperReport>
